<!DOCTYPE html>
<html lang="en">
<head>
	<title>BPNAF v1.5</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

	<style>
		a {text-decoration:none;}
		h3
		{
		 color: #20385a !important;
		 background: #fff;
		 text-align:center;
		}
		.sep{
		    height: 1px;
		    width: 90%;
		    display: inline-block;
		    text-align: right;
		    background: #f07e00;
		    vertical-align: middle;
		}
		[class*="col-"] {
		  margin-bottom: 18px;
		  margin-left: -2px;
		  margin-right: -2px;
		}
		.content {
		  padding: 12px 16px 12px 16px;
		  margin: 6px 0px 6px 0px;
		  background-color: white;
		  border-radius: .1rem;
		}
		.h-100 {
			height:100%;
		}
	</style>
</head>

<script src="bpnaf.js">
</script>
	
<script>

	var search_enabled=0;

	var lang="pl";
	var lang_idx={"en":0,"pl":1,"es":2,"de":3};
	var lang_dict={
		 "lang_name":["English","Polski","Español","Deutsch"]
		,"title":["Business Process Nature Assessment Framework"
			,"Analiza natury procesów biznesowych"
			,"Evaluación de la Naturaleza de los Procesos de Negocio"
			,"Rahmenwerk zur Bewertung der Natur von Geschäftsprozessen"
		]
		,"intro":["Intro","Wprowadzenie","Introducción","Einführung"]
		,"instruction":["Getting started","Instrukcja","Instrucción","Anweisung"]
		,"examples":["Examples","Przykłady","Ejemplos","Beispiele"]
		,"example":["Example","Przykład","Ejemplo","Beispiel"]
		,"ex1_paragraph":[`This <a href="bpnaf5.html?ex=example1">example</a> contains the questionnaire contatinng 23 sample processes. It is prepared to be filled by an evaluator.`
			,`Ten <a href="bpnaf5.html?ex=example1">przykład</a> zawiera kwestionariusz zawierający 23 przykładowe procesy. Jest przygotowany do wypełnienia przez osobę oceniającą.`
			,`Este <a href="bpnaf5.html?ex=example1">ejemplo</a> contiene el cuestionario que contiene 23 procesos de muestra. Está preparado para ser llenado por un evaluador`
			,`Dieses <a href="bpnaf5.html?ex=example1">Beispiel</a> enthält den Fragebogen mit 23 Beispielprozessen. Es ist für die Befüllung durch einen Gutachter vorbereitet.`]
		,"ex2_paragraph":[`This <a href="bpnaf5.html?ex=example5">example</a> contains the questionnaire containing 18 sample processes. It is partly filled by an evaluator.`
			,`Ten <a href="bpnaf5.html?ex=example5">przykładowy</a> kwestionariusz zawiera 18 procesów. Jest częściowo wypełniony - wymaga uzupełnienia w zakresie wiedzochłonności.`,`Este <a href="bpnaf5.html?ex=example5">ejemplo</a> contiene el cuestionario que contiene 18 procesos de muestra. Está parcialmente ocupado por un evaluador.`
			,`Dieses <a href="bpnaf5.html?ex=example5">Beispiel</a> enthält den Fragebogen mit 18 Beispielprozessen. Es wird teilweise von einem Gutachter ausgefüllt.`]
		,"ex3_paragraph":[`This <a href="bpnaf5.html?ex=example3">example</a> contains the questionnaire contatinng 8 sample processes. It is already filled by an evaluator.`
			,`Ten <a href="bpnaf5.html?ex=example3">przykład</a> zawiera kwestionariusz zawierający 8 przykładowych procesów. Jest już wypełniony przez osobę oceniającą.`
			,`Este <a href="bpnaf5.html?ex=example3">ejemplo</a> contiene el cuestionario que contiene 8 procesos de muestra. Ya está lleno por un evaluador.`
			,`Dieses <a href="bpnaf5.html?ex=example3">Beispiel</a> enthält den Fragebogen mit 8 Beispielprozessen. Es ist bereits durch einen Gutachter ausgefüllt.`]
		,"creator":["Questionnaires Creator","Generator kwestionariuszy","Creador de cuestionarios","Fragebogen-Ersteller"]
		,"maintenance":["Maintenance","Utrzymanie systemu","Mantenimiento del sistema","Wartung"]
		,"CompanyName0":["Company:","Firma:","Compañía:","Unternehmen:"]
		,"CompanyInfo0":["Company Info:","Informacje o firmie:","Información de la compañía:","Firmeninfo:"]
		,"CompanyCountry0":["Country:","Kraj:","País","Land"]
		,"Industry0":["Industry:","Branża:","Industria:","Industrie:"]
		,"Size0":["Size:","Wielkość:","Tamaño de la empresa:","Firmengröße:"]
		,"MapDefinition0":["Processes Map Definition:","Definicja mapy procesów:","Definición del mapa de procesos:","Prozesskartendefinition:"]
		,"t_mcsM":["M - Management processes","M - Procesy zarządcze","M - Procesos de gestión","M - Managementprozesse"]
		,"t_mcsC":["C - Core processes","C - Procesy kluczowe","C - Procesos centrales","C - Kernprozess"]
		,"t_mcsS":["S - Support processes","S - Procesy pomocnicze","S - Procesos de soporte","S - Supportprozesse"]
		,"A1":["Processes Map","Mapa procesów","Mapa de Procesos","Prozesskarte"]
		,"A2":["Processes Table","Tabela procesów","Tabla de Procesos","Prozesstabelle"]
		,"A3":["Processes List","Lista procesów","Lista de procesos","Prozessliste"]
		,"level":["Level ","Poziom ","Nivel ","Ebene "]
		,"t_LevelN":[`Select by clicking the radio button, choose the value from listbox and edit a name. After selecting new combination the name will be cleared. You do not need to enter again the name if you come back to select previous combination (only first is meaningful for further processing)!`,
		`Wybierz rodzaj procesu klikając radio-button, wybierz wartość z listy i edytuj nazwę. Po wybraniu nowej kombinacji nazwa zostanie wyczyszczona. Nie musisz ponownie wprowadzać nazwy, jeśli wrócisz, aby wybrać poprzednią kombinację (tylko pierwsza kombinacja ma znaczenie do dalszego przetwarzania)!`
		,
		`Seleccione haciendo clic en el botón de opción, elija el valor del cuadro de lista y edite un nombre. Después de seleccionar la nueva combinación, el nombre se borrará. No necesita ingresar nuevamente el nombre si regresa para seleccionar la combinación anterior (solo el primero tiene significado para su posterior procesamiento)!`
		,
		`Wählen Sie durch Klicken auf das Optionsfeld den Wert aus dem Listenfeld aus und bearbeiten Sie einen Namen. Nach der Auswahl einer neuen Kombination wird der Name gelöscht. Sie müssen den Namen nicht erneut eingeben, wenn Sie zur vorherigen Kombination zurückkehren (nur die erste ist sinnvoll). zur weiteren Bearbeitung)!`]
		,"t_LevelN1":[`Enter N-1 level process name in a edit field`,`Wpisz w polu edycyjnym nazwę procesu poziomu N-1`,`Ingrese el nombre del proceso de nivel N-1 en un campo de edición`,`Geben Sie den Prozessnamen der Ebene N-1 in ein Bearbeitungsfeld ein`]
		,"Evaluator0":["Evaluator:","Oceniający:","Evaluador:","Bewerter:"]
		,"Language0":["Language:","Język:","Idioma:","Sprache:"]
		,"b_add":["Add","Dodaj","Agregar","Hinzufügen"]
		,"t_add":[`Add the name of the process to the Process List`,`Dodaj nazwę procesu do listy procesów`,`Agregue el nombre del proceso a la Lista de procesos`,`Fügen Sie den Namen des Prozesses zur Prozessliste hinzu`]
		,"s_confirmadd":[`' already exists.\nDo you still want to add it?'`,` już istnieje.\nCzy nadal chcesz go dodać?`,` ya existe.\n¿Aún deseas agregarlo?`,` existiert bereits.\nMöchten Sie es noch hinzufügen?`]
		,"b_delete":["Delete","Usuń","Borrar","Löschen"]
		,"t_delete":[`Delete last process name from the Process List`,`Usuń ostatnią nazwę procesu z listy procesów`,`Eliminar el último nombre del proceso de la Lista de procesos`,`Löschen Sie den letzten Prozessnamen aus der Prozessliste`]
		,"b_submit":["Submit","Generuj","Generar","Generieren"]
		,"s_submit":['Do you want to submit?','Czy chcesz wygenerować kwestionariusz?','¿Quieres enviar?','Möchten Sie einreichen?']
		,"info_paragraph":[`Readme under construction. You can go to three examples below.`
			,`Readme w przygotowaniu. Poniżej możesz przejść do trzech przykładów.`
			,`Léame en construcción. Puede ir a tres ejemplos a continuación.`
			,`Readme im Aufbau. Nachfolgend finden Sie drei Beispiele.`]
		,"a_panel":["Administrator Panel","Panel administratora","Panel de administrador","Administrator-Panel"]
		,"a_paragraph":[`The administrator panel gives access to all created queestionires. It is password protected so please enter the password:`
			,`Panel administracyjny daje dostęp do wszystkich utworzonych ankiet. Jest chroniony hasłem, proszę podać hasło:`
			,`El panel de administrador da acceso a todos los cuestionarios creados. Está protegido con contraseña, así que introduzca la contraseña:`
			,`Das Administrator-Panel bietet Zugriff auf alle erstellten Fragebögen. Es ist passwortgeschützt, also geben Sie bitte das Passwort ein:`]
		,"q_creation":["Questionnaire creation","Tworzenie kwestionariusza","Creación de cuestionario","Erstellung eines Fragebogens"]
		,"q_paragraph":[`The following form enables preparing a questionnaire that will be visible to dedicated users. After submiting it will generate the link to access it and redirects to this link. It its recommended to store the link from browser address bar. The link is a company and an evaluator dependent what allows for evaluating a company by several experts. It is highly recommended to remember entered company name. When entering previously used company name followed by Tab key allows recalling company questionaire when creating new one for another evaluator.`
			,`Poniższy formularz umożliwia przygotowanie ankiety, która będzie widoczna dla dedykowanych użytkowników. Po przesłaniu wygeneruje link umożliwiający dostęp do niego i przekieruje do tego linku. Zalecane jest przechowywanie linku z paska adresu przeglądarki. Powiązanie jest zależne od firmy i oceniającego, co pozwala na ocenę firmy przez kilku ekspertów. Zdecydowanie zaleca się zapamiętanie wprowadzonej nazwy firmy. Wpisanie wcześniej używanej nazwy firmy i naciśnięcie klawisza Tab umożliwia przywołanie kwestionariusza firmy podczas tworzenia nowego dla innego oceniającego.`
			,`El siguiente formulario permite preparar un cuestionario que será visible para los usuarios dedicados. Después de enviarlo, generará el enlace para acceder a él y redireccionará a este enlace. Se recomienda almacenar el enlace desde la barra de direcciones del navegador. El vínculo es dependiente de una empresa y un evaluador lo que permite que varios expertos evalúen una empresa. Se recomienda encarecidamente recordar el nombre de la empresa introducido. Al ingresar el nombre de la empresa utilizado anteriormente seguido de la tecla Tab, se puede recuperar el cuestionario de la empresa al crear uno nuevo para otro evaluador.`
			,`Das folgende Formular ermöglicht die Erstellung eines Fragebogens, der für bestimmte Benutzer sichtbar ist. Nach dem Absenden wird der Link für den Zugriff generiert und zu diesem Link weitergeleitet. Es wird empfohlen, den Link in der Adressleiste des Browsers zu speichern. Der Link ist unternehmens- und bewerterabhängig und ermöglicht so die Bewertung eines Unternehmens durch mehrere Experten. Es wird dringend empfohlen, sich den eingegebenen Firmennamen zu merken. Durch Eingabe des zuvor verwendeten Firmennamens gefolgt von der Tabulatortaste können Sie den Unternehmensfragebogen erneut abrufen, wenn Sie einen neuen für einen anderen Bewerter erstellen.`]
		,"info":[`
		<p>
		<p>
			The Business Process Nature Assessment Framework (BPNAF)  enables the quick and efficient assessment of the nature of business processes in an organization in terms of their unpredictability and knowledge intensity. The presentation of the results enables the objective recommendation of the selection of implementation methodologies, HRM policies, or IT systems supporting BPM in line with the real nature of business processes implemented in the organization, in a way that is understandable to both experts and non-experts.
		<p>
			This framework contains: (1) questionnaire generator for dedicated company and evaluating person, (2) system for completing the questionnaire with option of previewing all questionnaires for one entity (3) questionnaire management including creation of the report. Generated report contains process map and results matrix (BPNAM) in a form of two charts and recommendations. As a starting point you can go through several examples available below.
		<p>
			The framework interface supports <a href="bpnaf5.html?ex=example4&lang=en">English</a>, <a href="bpnaf5.html?ex=example7">Polish</a> (default), <a href="bpnaf5.html?ex=example8&lang=es">Spanish</a> and <a href="bpnaf5.html?ex=example9&lang=de">German</a>.
		<p>
			The method overview can be found in <i>Marek Szelągowski,Practical assessment of the nature of business processes, Information Systems and e-Business Management</i> (<a href="pdf/Szelągowski 2021_Practical Assessment of the Nature of BPs.pdf">pdf</a>) or <a href="https://doi.org/10.1007/s10257-021-00501-y">https://doi.org/10.1007/s10257-021-00501-y</a>.`
			,
		`
		<p>
		<p>
		System analizy natury procesów biznesowych (BPNAF) umożliwia szybką i skuteczną ocenę charakteru procesów biznesowych w organizacji pod kątem ich nieprzewidywalności i intensywności wiedzy. Prezentacja wyników pozwala na obiektywną rekomendację wyboru metodologii wdrożeń, strategii zarządzania zasobami ludzkimi czy systemów informatycznych wspierających zarządzanie procesami, zgodnie z realnym charakterem procesów biznesowych realizowanych w organizacji, w sposób zrozumiały zarówno dla ekspertów, jak i osób niebędących specjalistami.
		<p>
		System ten zawiera: (1) generator ankiet dla dedykowanej firmy i osoby oceniającej, (2) system wypełniania ankiety z możliwością podglądu wszystkich ankiet dla jednego podmiotu, (3) zarządzanie ankietami, w tym tworzenie raportu. Wygenerowany raport zawiera mapę procesów oraz macierz wyników (BPNAM) w postaci dwóch wykresów i rekomendacji. Przed rozpoczęciem pracy, można przanalizować kilka przykładów dostępnych poniżej.
		<p>
		Interfejs systemu obsługuje <a href="bpnaf5.html?ex=example4&lang=en">angielski</a>, <a href="bpnaf5.html?ex=example7">polski</a> (domyślnie), <a href="bpnaf5.html?ex=example8&lang=es">hiszpański</a> i <a href="bpnaf5.html?ex=example9&lang=de">niemiecki</a>.
		<p>
		Opis metody można znaleźć w <i>Marek Szelągowski,Praktyczna ocena natury procesów biznesowych, Systemy informacyjne i zarządzanie e-biznesem</i> (<a href="pdf/Szelągowski 2021_Practical Assessment of the Nature of BPs.pdf">pdf</a>) lub <a href="https://doi.org/10.1007/s10257-021-00501-y">https://doi.org/10.1007/s10257-021-00501-y</a>.`
			,
		`
		<p>
		<p>
		Evaluación de la Naturaleza de los Procesos de Negocio (BPNAF) permite una evaluación rápida y eficiente de la naturaleza de los procesos de negocio en una organización en términos de su imprevisibilidad e intensidad de conocimiento. La presentación de los resultados permite recomendar objetivamente la selección de metodologías de implementación, políticas de gestión de recursos humanos o sistemas de TI que soporten BPM en línea con la naturaleza real de los procesos de negocio implementados en la organización, de una manera comprensible tanto para expertos como para no expertos. expertos.
		<p>
		Este marco contiene: (1) generador de cuestionarios para empresa dedicada y persona evaluadora, (2) sistema para completar el cuestionario con opción de vista previa de todos los cuestionarios para una entidad (3) gestión de cuestionarios, incluida la creación del informe. El informe generado contiene un mapa de procesos y una matriz de resultados (BPNAM) en forma de dos gráficos y recomendaciones. Como punto de partida, puede consultar varios ejemplos disponibles a continuación.
		<p>
		La interfaz del marco admite <a href="bpnaf5.html?ex=example4&lang=en">inglés</a>, <a href="bpnaf5.html?ex=example7">polaco</a> (predeterminado), <a href="bpnaf5.html?ex=example8&lang=es">español</a> y un <a href="bpnaf5.html?ex=example9&lang=de">alemán</a>.
		<p>
		La descripción general del método se puede encontrar en <i>Marek Szelągowski, Evaluación práctica de la naturaleza de los procesos de negocio, sistemas de información y gestión de negocios electrónicos</i> (<a href="pdf/Szelągowski 2021_Practical Assessment of the Nature of BPs.pdf">pdf</a>) o <a href="https://doi.org/10.1007/s10257-021-00501-y">https://doi.org/10.1007/s10257-021-00501-y</a>.`,
		`
		<p>
		<p>
		Das Business Process Nature Assessment Framework (BPNAF) ermöglicht die schnelle und effiziente Bewertung der Beschaffenheit von Geschäftsprozessen in einer Organisation hinsichtlich ihrer Unvorhersehbarkeit und Wissensintensität. Die Präsentation der Ergebnisse ermöglicht die objektive Empfehlung der Auswahl von Implementierungsmethoden, HRM-Richtlinien oder IT-Systemen, die BPM unterstützen, im Einklang mit der tatsächlichen Natur der in der Organisation implementierten Geschäftsprozesse, und zwar auf eine Weise, die sowohl für Experten als auch für Laien verständlich ist. Experten.
		<p>
		Dieses Framework enthält: (1) Fragebogengenerator für bestimmte Unternehmen und bewertende Personen, (2) System zum Ausfüllen des Fragebogens mit der Möglichkeit, alle Fragebögen für eine Entität in der Vorschau anzuzeigen, (3) Fragebogenverwaltung einschließlich Erstellung des Berichts. Der generierte Bericht enthält eine Prozesskarte und eine Ergebnismatrix (BPNAM) in Form von zwei Diagrammen und Empfehlungen. Als Ausgangspunkt können Sie die unten aufgeführten Beispiele durchgehen.
		<p>
		Die Framework-Schnittstelle unterstützt <a href="bpnaf5.html?ex=example4&lang=en">Englisch</a>, <a href="bpnaf5.html?ex=example7">Polnisch</a> (Standard), <a href="bpnaf5.html?ex=example8&lang=es">Spanisch</a> und <a href="bpnaf5.html?ex=example9&lang=de">Deutsch</a>.
		<p>
		Die Methodenübersicht finden Sie in <i>Marek Szelągowski,Practical Assessment of the Nature of Business Processes, Information Systems and E-Business Management</i> (<a href="pdf/Szelągowski 2021_Practical Assessment of the Nature of BPs. pdf">pdf</a>) oder <a href="https://doi.org/10.1007/s10257-021-00501-y">https://doi.org/10.1007/s10257-021-00501-y</a>.`
		]
	}
	function get_string(ids) {
		return lang_dict[ids][lang_idx[lang]];
	}
	function lang_changed(s) {
		//alert("lang_changed:"+s+" "+lang);
		lang=s;  // set global var lang 
		document.getElementById("lang").value=lang;

		for(var key in lang_idx) {
			document.getElementById(key).style["color"]="black";		
		}
		document.getElementById(lang).style["color"]="blue";//"#9e7ba8";
/*
		template1aa = (s==="pl") ? template1aa_pl : template1aa_en;
		template4aa = (s==="pl") ? template4aa_pl : template4aa_en;
		template4cc = (s==="pl") ? template4cc_pl : template4cc_en;
*/

		var idx=lang_idx[lang];
		for(var key in lang_dict) {
			var k=lang_dict[key];
			var s1=k[idx<k.length?idx:0];
	try {
			if(Array.isArray(s1)) {
				for(var j=0;j<s1.length;j++) {
					if(key.includes("$NN")) {
						for(var k=0;k<ids.length;k++) {
							var key2 = key.replace("$NN",ids[k]).replace("$DD",(j+1));
							var kk = key2.split(':');
							if(kk.length>1) {
								document.getElementById(kk[0])[kk[1]]=s1[j];
							} else {
								document.getElementById(key2).innerHTML=s1[j];
							}
							//document.getElementById(key2).innerHTML=s1[j];
						}
					} else {
						document.getElementById(key+(j+1)).innerHTML=s1[j];
					}
				}
			} else {
				var kk = key.split(':');
				if(kk.length>1) {
					if(kk[0].includes("$NN")) {
						for(var k=0;k<ids.length;k++) {
							var key = kk[0].replace("$NN",ids[k]);
							document.getElementById(key)[kk[1]]=s1;
						}
					} else {
						document.getElementById(kk[0])[kk[1]]=s1;
					}
				} else {
					ell=document.getElementsByName(key);
					if(ell.length>0){
						for(var l=0;l<ell.length;l++) {
							ell[l].innerHTML=s1;
						}
					} else {
						var kkk=key.split("_");
						if(kkk.length>1 && kkk[0]=='p') { /* placeholder */
								document.getElementById(key).placeholder=s1;
						} else if(kkk.length>1 && kkk[0]=='t') { /* title */
								document.getElementById(key).title=s1;
						} else {
							document.getElementById(key).innerHTML=s1;
						}
					}
	//				}
				}
			}
	} catch(err) {if(debug) console.log(err.message + "\nerror ->" + key+" "+s1);}
	
		}

//		update();
	}


	function main() { // parse params from url address
		var s = decodeURIComponent(window.location.search.substring(1));
		if(s.length>1) {
			var ss = s.split('&');
			for (var i = 0; i < ss.length; i++) {
				var sss = ss[i].split('=');
				window[sss[0]] = sss.length>1 ? sss[1] : 1;
			}
		}
		lang_changed(lang);
	}
	
</script>	


<body style="background-color:#eee">

<div class="container">

  <nav class="navbar navbar-expand-lg navbar-light">
    <div class="container-fluid">
		<button class="navbar-toggler" type="button"
			data-bs-toggle="collapse" data-bs-target="#navbarMenu"
			aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarMenu">
			<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
				<li class="nav-item"><a class="nav-link" aria-current="page" href="javascript:lang_changed('en');" id="en">EN</a></li>
				<li class="nav-item"><a class="nav-link  active" href="javascript:lang_changed('pl');" id="pl">PL</a></li>
				<li class="nav-item"><a class="nav-link" href="javascript:lang_changed('es');" id="es">ES</a></li>
				<li class="nav-item"><a class="nav-link" href="javascript:lang_changed('de');" id="de">DE</a></li>
			</ul>
		</div>
    </div>
  </nav>

	
<!--
<center><h2><a href="bpnaf5.html">Business Process Nature Assessment Framework</a></h2></center>
-->

<div class="mt-4 p-5 bg-gradient1 bg-light1" style="background-color:#b7d9fE;background-color1:#9e7ba8;margin-top:0!important;background-image:linear-gradient(to top,#e6ffe6,white,white,#b7d9fE)">
	<center>
		<h1 id="banner">
			<a id="title" href="bpnaf5.html" class="text-white1">
				Business Process Nature Assessment Framework
			</a>
		</h1>
	</center>
</div>

<div class="accordion" id="accordionExample">
	
	<div class="accordion-item">
		<h2 class="accordion-header" id="headingOne">
			<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">

			<!-- Accordion Item #1 -->
			<h4 id="intro">Intro</h4>

			</button>
		</h2>
		<div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
			<div class="accordion-body">

<div id="info" style="display:none1;">
<p>
<p>
	The Business Process Nature Assessment Framework (BPNAF)  enables the quick and efficient assessment of the nature of business processes in an organization in terms of their unpredictability and knowledge intensity. The presentation of the results enables the objective recommendation of the selection of implementation methodologies, HRM policies, or IT systems supporting BPM in line with the real nature of business processes implemented in the organization, in a way that is understandable to both experts and non-experts.
<p>
	This framework contains: (1) questionnaire generator for dedicated company and evaluating person, (2) system for completing the questionnaire with option of previewing all questionnaires for one entity (3) questionnaire management including creation of the report. Generated report contains process map and results matrix (BPNAM) in a form of two charts and recommendations. As a starting point you can go through several examples available below.
<p>
	The framework interface supports <a href="bpnaf5.html?ex=example4&lang=en">English</a>, <a href="bpnaf5.html?ex=example7">Polish</a> (default), <a href="bpnaf5.html?ex=example8&lang=es">Spanish</a> and <a href="bpnaf5.html?ex=example9&lang=de">German</a>.
<p>
	The method overview can be found in <i>Marek Szelągowski,Practical assessment of the nature of business processes, Information Systems and e-Business Management</i> (<a href="pdf/Szelągowski 2021_Practical Assessment of the Nature of BPs.pdf">pdf</a>) or <a href="https://doi.org/10.1007/s10257-021-00501-y">https://doi.org/10.1007/s10257-021-00501-y</a>.
</div>


			</div>
		</div>
	</div>

	<div class="accordion-item">
		<h2 class="accordion-header" id="headingOneA">
			<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOneA" aria-expanded="false" aria-controls="collapseOneA">

			<!-- Accordion Item #1a -->
			<h4 id="instruction">Getting started</h4>

			</button>
		</h2>
		<div id="collapseOneA" class="accordion-collapse collapse" aria-labelledby="headingOneA" data-bs-parent="#accordionExample">
			<div class="accordion-body">

<div id="info" style="display:none1;">
<p>
 <span id="info_paragraph">
	 Readme under construction. You can go to three examples below.
 </span>
</div>

			</div>
		</div>
	</div>

  
	<div class="accordion-item">
		<h2 class="accordion-header" id="headingTwo">
			<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
				
			<!-- Accordion Item #2 -->
			<h4 id="examples">Three examples</h4>
			
			</button>
		</h2>
		<div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
			<div class="accordion-body">
				

<div id="examples" style="display:none1;">

<div class="row">
	<div class="col-sm-4">
		<div class="h-100 content">
			<h3><span name="example">Example</span><br>1</h3>
			<p><span id="ex1_paragraph">This <a href="bpnaf5.html?ex=example1">example</a> contains the questionnaire contatinng 23 sample processes. It is prepared to be filled by an evaluator.</span>
					<a href="bpnaf5.html?ex=example1">
						<div style="border:1px solid lightgray;">
							<table width="100%" style="text-align:center"><tbody><tr><td style="height:100px">
								<span>
									<svg width="75" height="75" viewBox="0 0 100 100">
										<path d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#e6ffe6">
											<title></title> 
										</path>
										<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">M1 (2)</text>
									</svg>
								</span>
								<span>
									<svg width="75" height="75" viewBox="0 0 100 100">
										<path d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#e6ffe6">
											<title></title> 
										</path>
										<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">M2 (2)</text>
									</svg>
								</span>
							</td></tr><tr><td style="height:100px">
								<span>
									<svg width="75" height="75" viewBox="0 0 100 100">
										<path transform="translate(50,50) rotate(-90) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="azure">
											<title></title> 
										</path>
										<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">C1 (3)</text>
									</svg>
								</span>
								<span>
									<svg width="75" height="75" viewBox="0 0 100 100">
										<path transform="translate(50,50) rotate(-90) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="azure">
											<title></title> 
										</path>
										<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">C2 (3)</text>
									</svg>
								</span>
								<span>
									<svg width="75" height="75" viewBox="0 0 100 100">
										<path transform="translate(50,50) rotate(-90) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="azure">
											<title></title> 
										</path>
										<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">C3 (3)</text>
									</svg>
								</span>
							</td></tr><tr><td style="height:100px">
								<span>
									<svg width="75" height="75" viewBox="0 0 100 100">
										<path transform="translate(50,50) rotate(-180) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#ffffcc">
											<title></title> 
										</path>
										<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">S1 (4)</text>
									</svg>
								</span>
								<span>
									<svg width="75" height="75" viewBox="0 0 100 100">
										<path transform="translate(50,50) rotate(-180) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#ffffcc">
											<title></title> 
										</path>
										<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">S2 (4)</text>
									</svg>
								</span>
								<span>
									<svg width="75" height="75" viewBox="0 0 100 100">
										<path transform="translate(50,50) rotate(-180) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#ffffcc">
											<title></title> 
										</path>
										<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">S3 (4)</text>
									</svg>
								</span>
								<span>
									<svg width="75" height="75" viewBox="0 0 100 100">
										<path transform="translate(50,50) rotate(-180) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#ffffcc">
											<title></title> 
										</path>
										<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">S4 (4)</text>
									</svg>
								</span>
							</td></tr></tbody>
						</table>
					</div>
				</a>
			</p>
		</div>
	</div>
 
	<div class="col-sm-4">
		<div class="h-100 content">
			<h3><span name="example">Example</span><br>2</h3>
			<p><span id="ex2_paragraph">This <a href="bpnaf5.html?ex=example5">example</a> contains the questionnaire contatinng 18 sample processes. It is partly filled by an evaluator.</span>
				<a href="bpnaf5.html?ex=example2">
					<div style="border:1px solid lightgray;">
						<table width="100%" style="text-align:center"><tbody><tr><td style="height:100px">
							<span>
								<svg width="75" height="75" viewBox="0 0 100 100">
									<path d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#e6ffe6">
										<title></title> 
									</path>
									<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">M2 (9)</text>
								</svg>
							</span>
						</td></tr><tr><td style="height:100px">
							<span>
								<svg width="75" height="75" viewBox="0 0 100 100">
									<path transform="translate(50,50) rotate(-90) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="azure">
										<title></title> 
									</path>
									<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">C1 (9)</text>
								</svg>
							</span>
						</td></tr><tr><td style="height:100px"></td></tr></tbody></table>
					</div>
				</a>
			</p>
		</div>
	</div>

	<div class="col-sm-4">
		<div class="h-100 content">
			<h3><span name="example">Example</span><br>3</h3>
			<p>
			<span id="ex3_paragraph">This <a href="bpnaf5.html?ex=example3">example</a> contains the questionnaire contatinng 8 sample processes. It is already filled by an evaluator.</span>
			<a href="bpnaf5.html?ex=example3">
				<div style="border:1px solid lightgray;">
					<table width="100%" style="text-align:center"><tbody><tr><td style="height:100px"></td></tr><tr><td style="height:100px">
						<span>
							<svg width="75" height="75" viewBox="0 0 100 100">
								<path transform="translate(50,50) rotate(-90) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="azure">
									<title>undefined</title> 
								</path>
								<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">C1 (2)</text>
							</svg>
						</span>
					</td></tr><tr><td style="height:100px">
						<span>
							<svg width="75" height="75" viewBox="0 0 100 100">
								<path transform="translate(50,50) rotate(-180) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#ffffcc">
									<title></title> 
								</path>
								<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">S1 (3)</text>
							</svg>
						</span>

						<span>
							<svg width="70" height="70" viewBox="0 0 100 100">
								<path transform="translate(50,50) rotate(-180) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#ffffcc">
									<title></title> 
								</path>
								<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">S2 (3)</text>
							</svg>
						</span>
					</td></tr></tbody></table>
				</div>
			</a>
			</p>
		</div>
	</div>
</div> <!-- end of row -->
</div>


			</div>
		</div>
	</div>

<!--  
	<div class="accordion-item">
		<h2 class="accordion-header" id="headingThree">
			<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
-->
			<!-- Accordion Item #3 -->
<!--			<h4>More examples</h4>

			</button>
		</h2>
		<div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
			<div class="accordion-body">

<div id="functionality" style="display:none1">	 
  
<div class="row">
	<div class="col-md-4">
		<div class="h-100 content">
			<h3>Simple example for testing</h3>
			<p>The framework can generate several questionnaires for one entity that are accesible with differnet link. This oversimplified example is prepared for fictitious company GG with two unnamed processes both in managment catagory:
<center>
	<table style="border:1px solid lightgray;">
		<tbody>
			<tr style="text-align:center;border-bottom: 1pt solid lightgray;">
				<td style="text-align:right;padding:6px;">1</td>
				<td style="border-left: 1pt solid lightgray;color:blue;padding:6px;background-color:#e6ffe6;" rowspan="2">M1</td>
				<td style="border-right: 1pt solid lightgray;color:blue;text-align:left;padding:6px;background-color:#e6ffe6;" rowspan="2">Management</td>
				<td style="color:blue;padding:6px;background-color:#e6ffe6;">M1.1</td>
				<td style="text-align:left;padding:6px;background-color:#e6ffe6;"></td>
			</tr>
			<tr style="text-align:center;border-bottom: 1pt solid lightgray;">
				<td style="text-align:right;padding:6px;">2</td>
				<td style="color:blue;padding:6px;background-color:#e6ffe6;">M1.2</td>
				<td style="text-align:left;padding:6px;background-color:#e6ffe6;"></td>
			</tr>
		</tbody>
	</table>
</center>
			</p>
			<p>The administrator of the framework has generated 4 questionnairies:
				<ul>
					<li><a href="bpnaf5.html?fx=uuZnglM0RicG5hZl9HRy50c3YlMjZsYW5nJTNEcGw=">Empty questionnaire</a>,</li>
					<li><a href="bpnaf5.html?fx=uuZnglM0RicG5hZl9HRyUzQjEudHN2JTI2bGFuZyUzRHBs">Questionnaire for the first evaluator</a>,</li>
					<li><a href="bpnaf5.html?fx=uuZnglM0RicG5hZl9HRyUzQjIudHN2JTI2bGFuZyUzRHBs">Questionnaire for the second evaluator</a>,</li>
					<li><a href="bpnaf5.html?fx=uuZnglM0RicG5hZl9HRyUzQjElM0IyLnRzdiUyNmxhbmclM0RwbA==">Combined questionnaire for final evaluation</a>.</li>
				</ul>
			</p>
			<p> The fourth questionnaire containes also the current contents of the second one and the third one in preview mode. It is dedicated to preparing final evaluation based on two earlier evaluations.
			<p>
			</p>
		</div>
	</div>

	<div class="col-md-4">
		<div class="h-100 content">
			<h3>Importing files</h3>
			<p>The framework can open proprietary xlsx results files provided <b>N-1</b> sheet is saved as csv file. Here below there are examples of converted csv files as presented in the framework in read only mode (editing of evalutors selections is disabled):
				<ul>
					<li><a href="bpnaf5.html?fx=csv/BPNAF -OBR.csv&enabled=0">BPNAF -OBR</a></li>
					<li><a href="bpnaf5.html?fx=csv/BPNAF -prod chemiczna.csv&enabled=0">BPNAF -prod chemiczna</a></li>
					<li><a href="bpnaf5.html?fx=csv/BPNAF -prod maszyn.csv&enabled=0">BPNAF -prod maszyn</a></li>
					<li><a href="bpnaf5.html?fx=csv/BPNAF -ubezpieczenia.csv&enabled=0">BPNAF -ubezpieczenia</a></li>
				</ul>
			</p>
			<p>Note that only final results with calculated knowledge intensity are available (without detailed answers of questionnaires statements). Additionally, there is the requirement for that data to have numbers in first column of data (only those rows are analysed by the internal converter).
			</p>
		</div>
	</div>

	<div class="col-md-4">
		<div class="h-100 content">
			<h3>Report generation</h3>
			<p>The framework allows creating htmlized reports that can be later converted to pdf documents. The Report button is available in the multipurpose dialog that is accesible from title text "Business Process Nature Assessment Framework" of the <a href="bpnaf5.html">questionnaire page</a>. The report contains the process table with results and BPNAM charts. Here below you can find examples of reports in html and pdf versions generated from finished questionairies:
			<ul>
			<li>BPNAF -OBR:<br>&nbsp;&nbsp; 
				<a href="dat/csv/BPNAF -OBR.html">html</a>,	
				<a href="dat/csv/BPNAF -OBR.pdf">pdf</a>
			</li>
			<li>BPNAF -prod chemiczna:<br>&nbsp;&nbsp;  
				<a href="dat/csv/BPNAF -prod chemiczna.html">html</a>,
				<a href="dat/csv/BPNAF -prod chemiczna.pdf">pdf</a>
			</li>
			<li>BPNAF -prod maszyn:<br>&nbsp;&nbsp; 
				<a href="dat/csv/BPNAF -prod maszyn.html">html</a>,
				<a href="dat/csv/BPNAF -prod maszyn.pdf">pdf</a>
			</li>
			<li>BPNAF -ubezpieczenia:<br>&nbsp;&nbsp;  
				<a href="dat/csv/BPNAF -ubezpieczenia.html">html</a>,
				<a href="dat/csv/BPNAF -ubezpieczenia.pdf">pdf</a>
			</li>
			</ul>
		</div>
	</div>
</div> --><!-- end of row -->
<!--</div>

			</div>
		</div>
	</div>

-->

	<div class="accordion-item">
		<h2 class="accordion-header" id="headingFour">
			<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">

			<!--Accordion Item #4 -->
			<h4 id="creator">Questionnaire creator</h4>

			</button>
		</h2>
		<div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
			<div class="accordion-body">


<div id="questionaire" style="display:none1">
<!--<p><h2>Operating activity:</h2></p>-->

<div class="row">
	<div class="col-md-12">
		<div class="h-100 content">
			<h3 id="q_creation">Questionnaire creation</h3>
			<p id="q_paragraph">The following form enables preparing a questionnaire that will be visible to dedicated users. After submiting it will generate the link to access it and redirects to this link. It its recommended to store the link from browser address bar. The link is a company and an evaluator dependent what allows for evaluating a company by several experts. It is highly recommended to remember entered company name. When entering previously used company name followed by Tab key allows recalling company questionaire when creating new one for another evaluator.
			<form id='f7' action='bpnaf.php' method="post" onsubmit="return on_submit();">
				<input type="hidden" id="fx_name" name="fx_name" value="bpnaf_default.tsv">
				<fieldset class="border rounded-3 p-3">
					<legend class="scheduler-border" id="CompanyInfo0">Company Info:</legend>
					<div class="row">
						<div class="col-7">
							<div class="input-group">
								<div class="input-group-text" title="" id="CompanyName0">Name:</div>
								<input type="text" id="CompanyName" class="form-control" list="CompanyHelpList" onchange="company_changed(this);">
								<datalist id="CompanyHelpList">
								</datalist>			
							</div>
						</div>
						<div class="col-5">
							<div class="input-group">
								<div class="input-group-text" title="" id="CompanyCountry0">Country:</div>
								<select id="CompanyCountry" class="form-control">
								</select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-7">
							<div class="input-group">
								<div class="input-group-text" title="" id="Industry0">Industry:</div>
								<select id="Industry" class="form-select">
								  <option value="0"></option>
								</select>
							</div>
						</div>
						<div class="col-5">
							<div class="input-group">
								<div class="input-group-text" title="" id="Size0">Size: </div>
								<select id="CompSize" class="form-select">
									<option value="0"></option>
									<option value="1">Micro (&lt; 10)</option>
									<option value="2">Small (11 - 50)</option>
									<option value="3">Medium (51 - 250)</option>
									<option value="4">Large (&gt; 250)</option>
								</select>
							</div>
						</div>
					</div>
				</fieldset>
				<br>	
				<fieldset class="border rounded-3 p-3">
					<legend class="scheduler-border" id="MapDefinition0">Processes Map Definition:</legend>
<div class="row">
					<div class="mb-2">
						<div class="input-group">
							<div class="input-group-text" id="t_LevelN" title="Select by clicking the radio button, choose the value from listbox and edit a name. After selecting new combination the name will be cleared. You do not need to enter again the name if you come back to select previous combination (only first is meaningful for further processing)!" >
								<span name="level">Level</span>&nbsp;N&nbsp;:
							</div> 		

							<div style="background-color:#e6ffe6" class="input-group-text" id="t_mcsM" title="M - Management" >
								<input type="radio" name="MCS" value="M" checked onchange="mcs_changed(this);"/>&nbsp;M&nbsp;
									<select id="M" class="" style="width:40px" onchange="mcs_changed(this);">
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
								</select>
							</div>
							<div style="background-color:azure" class="input-group-text" id="t_mcsC" title="C - Core" >
								<input type="radio" name="MCS" value="C" onchange="mcs_changed(this);"/>&nbsp;C&nbsp;
								<select id="C" class="" style="width:40px" onchange="mcs_changed(this);" disabled>
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
								</select>
							</div>
							<div style="background-color:#ffffcc" class="input-group-text" id="t_mcsS" title="S - Support" >
								<input type="radio" name="MCS" value="S" onchange="mcs_changed(this);"/>&nbsp;S&nbsp;
								<select id="S" class="" style="width:40px" onchange="mcs_changed(this);" disabled >
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
								</select>
							</div>
								<input type="text" id="CategoryName" class="form-control" list="CategoryHelpList" 
								value="" placeholder="">
							<datalist id="CategoryHelpList">

							</datalist>
						</div>
					</div>
					<div class="mb-2">
						<div class="input-group">
							<div class="input-group-text" id="t_LevelN1" title="Enter process N-1 level name in a edit field" ><span name="level">Level</span>&nbsp;N-1&nbsp;:
							</div>
							<div id="LevelN1" class="input-group-text" title="Level N-1 code">
								&nbsp;&nbsp;<span id="ProcessCode"><font color="blue">M1</font>.1</span>
							</div>
							<input type="text" id="ProcessName" class="form-control" list="ProcessHelpList"/>
							<datalist id="ProcessHelpList">
							</datalist>
						</div>
					</div>
</div>
					<button type="button" class="btn btn-info" id="t_add" title="Add the name of the process to the Process List" onclick="process_add(this);" ><span id="b_add">Add</span></button>
					<button type="button" class="btn btn-warning" id="t_delete" title="Delete last process name from the Process List" onclick="process_del(this);" style="float:right"><span id="b_delete">Delete</span></button>
<p></p>	
					<div class="row">
						<div class="container">
							<ul id="tabA" class="nav nav-tabs">
								<li class="nav-item">
									<a href="#tabA1" id="A1" class="nav-link" data-bs-toggle="tab">
										Processes Map
									</a>
								</li>
								<li class="nav-item">
									<a href="#tabA2" id="A2" class="nav-link active" data-bs-toggle="tab">
										Processes Table
									</a>
								</li>
								<li class="nav-item">
									<a href="#tabA3" id="A3" class="nav-link" data-bs-toggle="tab">
										Processes File
									</a>
								</li>
							</ul>
						</div>
						<p></p>
						<div id="tabsA_c" class="tab-content">
							<div id="tabA1" class="tab-pane fade in show">
								<div id="tabA1_c" class="container">
										<div id="ProcessMap" style="height:310px;overflow:auto">
					
										</div>
								</div>
							</div>
							<div id="tabA2" class="tab-pane fade in show active">
								<div id="tabA2_c" class="container">
										<div id="ProcessTab" style="height:310px;overflow:auto">
					
										</div>
								</div>
							</div>
							<div id="tabA3" class="tab-pane fade in show">
								<div id="tabA3_c" class="container">
										<div style="height:310px">
											<textarea id='ex7' name="fx" wrap="off" rows=12 style="width:100%;font-family:Consolas,monospace" onchange="update();"></textarea>
										</div>
								</div>
							</div>
						</div>
					</div>
					<p></p>
					<div class="row">
						<div class="col-8">
							 <div class="input-group">
								<div class="input-group-text" title="" id="Evaluator0">Evaluator:</div>
								<input type="text" id="EvaluatorName" class="form-control" list="EvaluatorList" onchange="evaluator_add(this.value);" value=""/>
								<datalist id="EvaluatorList">
									<option value="1">
									<option value="2">
									<option value="1&2">
								</datalist>			
							</div>
						</div>
						<div class="col-4">
							<div class="input-group">
								<div class="input-group-text" title="" id="Language0">Language:</div>
								<select class="form-select form-select-sm" id="lang" style="width:64px;display:right" onchange="lang_changed(this.value);">
									<option value="en">en</option>
									<option value="pl" selected>pl</option>
									<option value="es">es</option>
									<option value="de">de</option>
								</select>
							</div>
						</div>
					</div>
					<button type="submit" id="b_submit" class="btn btn-primary" style="float:right" disabled>Submit</button>
				</fieldset>
			</form>
		</div>
	</div>	 
</div>  <!-- end of row -->
</div>


			</div>
		</div>
	</div>

	<div class="accordion-item">
		<h2 class="accordion-header" id="headingFive">
			<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">

			<!-- Accordion Item #5 -->
			<h4 id="maintenance">Maintenance</h4>
			
			</button>
		</h2>
		<div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample">
			<div class="accordion-body">


<div id="administrator" style="display:none1">
<!--<p><h2>Maintenance:</h2></p>-->
<script>
function verify(event) {
	if(document.getElementById("password").value==="mgrbpnaf") { 
		return true;
	} else {
		alert("Login failure");
		return false;
	}
}
</script>	
<div class="row">
	<div class="col-md-12">
		<div class="h-100 content">
			<h3 id="a_panel">Administrator panel</h3>
				<p id="a_paragraph"> The administrator panel gives access to all created queestionires. It is password protected so please enter the password:
<!-- 			The server component of the framework is dedicated to postprocessing of questionnaire datafiles. It has access to all questionnaires so it is password protected. 
At the moment it allows just for previewing the content of quiestionnire files and go to selected one.  -->
				
			    <div class="container mt-5">
			         <div class="row justify-content-center">
			             <div class="col-md-6">
			                 <!-- <h2 class="mb-4">Login</h2> -->
			                 <form id="loginForm" action="bpnaf.php" method="post" onsubmit="return verify()">
								 <!-- <div class="mb-3">
			                         <label for="username" class="form-label">Username</label>
			                         <input type="text" class="form-control" id="username" name="username" required>
			                     </div> -->
								 <div class="mb-3">
			                         <label for="password" class="form-label">Password</label>
			                         <input type="password" class="form-control" id="password" name="password" required>
			                     </div>
			                     <button type="submit" class="btn btn-primary">Login</button>
			                 </form>
			             </div>
			         </div>
				
<!--				
			<p>The questionnaire file represents tab separated items hence the preview in the textarea could be copied and pasted to spredsheet software. For example the columns sixth and seventh (F and G when pasting into A) represents the data for BPNAM chart. Be aware that floating point numbers are represented with the dot character as the decimal point separator! </p>
			<p>The component requires the system to be installed on a web server with php enabled interpreter.</p>
		<p>Note:</p>
			<p>When deployed on a static (non-php-enabled) server, the system will operate like traditional desktop application. It means that storing anything automatically on that server will be not allowed. In such a case the previewing mentioned above will not work. Moreover, framework operation requires the user to store and load the questionnaires on his machine, what means that after filling the generated questionnaire one needs to save it on a local disk. In case of forgotting to save the last session is remembered by the browser. An example of such BPNAF deployment is on <a href="https://marmoszy.github.io/bpnaf">github.io</a>. It may serve rather as the working demo.</p>
-->

		</div>
	</div>		
</div> <!-- end of row -->
</div>


			</div>
		</div>
	</div>

  
</div>

</div> <!-- end of container -->

</body>

<script>
	var bpnafname = "bpnaf"; // data files base name
	var bpnafphp = "bpnaf.php";
	var ext='.tsv';  // file format extension (tab separated)
	var datapath="dat/";   // data subdirectory
	var bom = new Uint8Array([0xEF, 0xBB, 0xBF]); // '\xef\xbb\xbf'; // utf-8 byte order mark
	var debug = 0;
	var bpnaf5 = {}
	
	// sample namess of processes as third field 
	var example1=`
	#;Przykładowa2 SA;Marek Oceniający;;;0;0.3;0.65;1
	M1.1;;Analiza rynkowa
	M1.2;;Rozwój strategii oraz wizji
	M2.1;;Monitorowanie i kontrola
	M2.2;;Zaprojektowanie usprawnień produktów
	C1.1;;Proces pozyskania klienta
	C1.2;;Proces tworzenia oferty
	C1.3;;Finalizacja
	C2.1;;Proces planowania projektowego
	C2.2;;Proces projektowania oraz produkcji oprogramowania
	C2.3;;Proces implementacji oprogramowania
	C3.1;;Monitoring
	C3.2;;Aktualizacje okresowe
	C3.3;;Naprawy oraz poprawki
	S1.1;;Rekrutacja
	S1.2;;Wprowadzenie do pracy
	S1.3;;Zmiany (Awanse, zmiana stanowiska, itp.)
	S1.4;;Wynagrodzenia oraz kontrakty
	S2.1;;Obsługa faktur
	S2.2;;Rozliczenia księgowe
	S2.3;;Dokumentacja księgowa
	S2.4;;Rozrachunki wg zamówień i konktraktów
	S3.1;;Tworzenie terminarzu projektu
	S3.2;;Oszacowanie oraz opracowanie kosztorysu
	S3.3;;Zdefiniowanie zakresu projektu
	S3.4;;Przydzielenie odpowiednich zasobów ludzkich
	S4.1;;Proces zamawainia nowego sprzętu IT
	S4.2;;Naprawda sprzętu IT
	S4.3;;Utrzymanie systemów wenątrz-firmowych
	S4.4;;Dystrubucja oraz zarządzanie sprzętem IT (Hardware oraz urządzenia pomocne)
	`;
	function convert_csv(s,fname) {
		var s2='#;'+(fname||'')+'\n';
		var ss=s.replaceAll('|','\n').split('\n');
		for(var i=0;i<ss.length;i++) {
			if(ss[i].indexOf('"')!=-1) {
				ss[i] += ss[i+1];         // connect two lines if enter between quotes
				i++;
			}
		}
		for(var i=0;i<ss.length;i++) {
			ss[i] = ss[i].replace(/(\r\n|\n|\r)/gm, "");
			if(ss[i].length>1) {
				var ss2=ss[i].split(/[;\t]/);
				for(var j=ss2.length;j<14;j++) {
					ss2.push("");
				}
				if(!isNaN(parseInt(ss2[0]))) {
					ss2[5]=ss2[5].replace(/^\"+|\"+$/g, ''); // remove if in quotes
					var n;
					for(n=1;n<=4;n++) {
						if(ss2[7+n].length>0) break;
					}
					s2+=ss2[4]+";"+ss2[3]+";"+ss2[5]+";"+ss2[6].trim()+";"+ss2[7].trim()+";"+(n>4?"0":n)+';'+ss2[13]+'\n';
				}
			}
		}
		if(debug) console.log(s2);
		return(s2);
	}
	
	function enableTab(id) { 	// Enable the tab character onkeypress (onkeydown) inside textarea
		var el = document.getElementById(id);
		el.onkeydown = function(e) {
			if (e.keyCode === 9) { // tab was pressed
				var val = this.value,start = this.selectionStart,end = this.selectionEnd;
				this.value = val.substring(0, start) + '\t' + val.substring(end);
				this.selectionStart = this.selectionEnd = start + 1;
				return false;
			}
		};
	}
	enableTab("ex7");
	async function load_serverfile(file) {  // using fetch  (inserting datapath)
		var url = datapath + file;
		var response = await fetch(url,{cache: "reload"});
		var pr = await response.text();
		if(debug) console.log("load_serverfile: "+pr);
		bpnaf5[file]=pr;
		localStorage.bpnaf5=JSON.stringify(bpnaf5);
		return(pr);
	}
	function to_filename(s) {
		s=latenize(s);
		return bpnafname + "_" + s.replaceAll("&","_").replaceAll("\/","^").replaceAll("\\","~").replaceAll("%","`") + ext;
	}
	function from_filename(s) {
		return s.slice(bpnafname.length+1,-ext.length).replaceAll("_","&").replaceAll("^","\/").replaceAll("~","\\").replaceAll("`","%");
	}
	function latenize(s) {
		var l1="ąćęłóńśźżĄĆĘŁÓŃŚŻŹ"; // pl
		var l2="acelonszzACELONSZZ";
		for(var i=0; i<l1.length; i++) s=s.replaceAll(l1[i],l2[i]);
		var l1="áéêíñóúüý¿¡ÁÉÊÍÑÓÚÜÝ"; // es
		var l2="aeeinouuy?!AEEINOUUY";
		for(var i=0; i<l1.length; i++) s=s.replaceAll(l1[i],l2[i]);
		var l1="äößüÄÖẞÜ"; // de
		var l2="aosuAOSU";
		for(var i=0; i<l1.length; i++) s=s.replaceAll(l1[i],l2[i]);
		return(s);
	}
	function company_changed(el) {
		var fname = to_filename(el.value); 
		if(debug) console.log("Company changed: "+fname);
		if(!window.location.protocol.startsWith("file:")) {
			load_serverfile(fname).then(s=>{
				if(debug) console.log("then: "+s);
				if(s.startsWith(bom)) s.substring(s);
				if(s.length>0 && s[0]=='#') {
					document.getElementById("ex7").value=s;
					var ss = s.split('\n');
					var ss0 = ss[0].replace(/(\r\n|\n|\r)/gm, "").split(/[;\t]/);
					var n=0;
					n=1;document.getElementById("CompanyName").value = ss0.length>n && ss0[n].length>0 ? ss0[n]: '';
					n=2;document.getElementById("EvaluatorName").value = ss0.length>n && ss0[n].length>0 ? ss0[n]: '';
					n=12;document.getElementById("Industry").value = ss0.length>n && ss0[n].length>0 ? ss0[n] : '';
					n=13;document.getElementById("CompSize").value = ss0.length>n && ss0[n].length>0 ? ss0[n] : '';
					n=14;document.getElementById("CompanyCountry").value = ss0.length>n && ss0[n].length>0? ss0[n] : '';
				}
				update();
			}); 
		} else {
			s = bpnaf5[fname];
			if(s && s.length>0 && s[0]=='#') {
				document.getElementById("ex7").value=s;
				var ss = s.split('\n');
				var ss0 = ss[0].replace(/(\r\n|\n|\r)/gm, "").split(/[;\t]/);
				var n=0;
				n=1;document.getElementById("CompanyName").value = ss0.length>n && ss0[n].length>0 ? ss0[n]: '';
				n=2;document.getElementById("EvaluatorName").value = ss0.length>n && ss0[n].length>0 ? ss0[n]: '';
				n=12;document.getElementById("Industry").value = ss0.length>n && ss0[n].length>0 ? ss0[n] : '';
				n=13;document.getElementById("CompSize").value = ss0.length>n && ss0[n].length>0 ? ss0[n] : '';
				n=14;document.getElementById("CompanyCountry").value = ss0.length>n && ss0[n].length>0? ss0[n] : '';
			}
			update();
			
		}
	}
		
	function init_lists() {  
	//fill ProcessHelpList from example1 internal variable		
		var ss=example1.split("\n").slice(2,-2);
		var el=document.getElementById("ProcessHelpList");
		if(el) {
			for(var i=0;i<ss.length;i++) {
				var sss=ss[i].split(';');
				var option = document.createElement("option");  // creating candidate for new option
				option.value = sss[2];
				el.appendChild(option);
			}
		}
	//fill CompanyHelpList from server directory
		url = bpnafphp +"?fx=.";  // url for getting list of data directory
		if( !window.location.protocol.startsWith("file:") ) {
			if(search_enabled>0) {
				fetch(url, {cache:"reload"})
				.then(response => {return response.text();})
				.then(s => {
					ss=s.match(/bpnaf_(.)+\.tsv/gi);                     // match bpnaf_*.tsv files
					if(ss!=null) {
						var el2=document.getElementById("CompanyHelpList");
						for(var i=0;i<ss.length;i++) {
							var option = document.createElement("option");   // creating new option
							option.value = from_filename(ss[i]);
							el2.appendChild(option);
						}
					}
				})
			}
		} else {
			console.log("Protocol: " + window.location.protocol);
			for(var s in bpnaf5) {
				ss=s.match(/bpnaf_(.)+\.tsv/gi);                     // match bpnaf_*.tsv files
				if(ss!=null) {
					var el2=document.getElementById("CompanyHelpList");
					for(var i=0;i<ss.length;i++) {
						var option = document.createElement("option");   // creating new option
						option.value = from_filename(ss[i]);
						el2.appendChild(option);
					}
				}
			}
		}
		mcs_changed(document.getElementsByName("MCS")[0]);  // update mcs code
	//fill Company Country list from var countryListAlpha2 bpnaf.js
		var ss=countryListAlpha2;
		var el=document.getElementById("CompanyCountry");
		if(el && ss!=undefined) {
			for(var i in ss) {
				var option = document.createElement("option");  // creating candidate for new option
				option.value = i;
				option.innerHTML = ss[i];
				//if(i==="PL") option.selected=true;
				el.appendChild(option);
			}
		}
	//fill Industry list from var industries bpnaf.js
		var ss=industries;
		var el=document.getElementById("Industry");
		if(el && ss!=undefined) {
			for(var i=0; i<ss.length; i++) {
				var option = document.createElement("option");  // creating candidate for new option
				option.value = (i+1);
				option.innerHTML = ss[i];
				//if(i==="PL") option.selected=true;
				el.appendChild(option);
			}
		}
	}
	function mcs_changed(el) {  // letter and number component handler for radio and select
		var mcs = el.value; // letter component
		var nn = '';  // number component
		if("MCS".indexOf(mcs)>-1) {  // letter component selected
			nn = document.getElementById(mcs).value;
			document.getElementById('M').setAttribute("disabled","disabled");
			document.getElementById('C').setAttribute("disabled","disabled");
			document.getElementById('S').setAttribute("disabled","disabled");
			document.getElementById(mcs).removeAttribute("disabled");  // reenable current
		} else {    // number component selected
			nn = el.value;
			mcs = get_mcs();
		}
		var el2 = document.getElementById("ProcessCode");
		if(el2) {
			el2.innerHTML=get_next(mcs,nn);
		}
		document.getElementById('CategoryName').value='';  // clear CategoryName
		document.getElementById('CategoryName').placeholder=mcs=='M'?'':mcs=='C'?'':mcs=='S'?'':''; 
		document.getElementById('LevelN1').style["background-color"] = 
			mcs=='M'? '#e6ffe6':mcs=='C'?'azure':mcs=='S'?'#ffffcc':''; 
	}
	function update() {
		var ta = document.getElementById("ex7");  // update textarea
		if(ta) {
			if(ta.value.length>0 && ta.value[0]!='#' && !isNaN(parseInt(ta.value)) ) {
				ta.value=convert_csv(ta.value);
				process_add(null);
				process_del(null);
			}
			update_table(ta.value);
			update_map(ta.value);
			update_mcs();
			document.getElementById('b_submit').disabled=false;
		}
	}
	function update_mcs() {
		mcs=get_mcs();	// update mcs
		var mcs_no=document.getElementById(mcs).value;   // MCS number
		var el = document.getElementById("ProcessCode"); // span element
		if(el) {
			el.innerHTML=get_next(mcs,mcs_no);
		} 				
	}
	function process_del(e) {
		var ta = document.getElementById("ex7");  // update textarea
		var ss = ta.value.split('\n');
		if(ss[ss.length-1].length<2) ss=ss.slice(0,-1);
		ta.value = ss.slice(0,-1).join('\n')+'\n';
		update();
	}
	function evaluator_add(s) {
		var ta = document.getElementById("ex7");
		var ss = ta.value.split('\n');
		var ss2 = ss[0].split(/[;\t]/);
		ss2[0]='#';
		ss2[1]=document.getElementById("CompanyName").value.split(';')[0];
		ss2[2]=s;
		ss[0]=ss2.join(';');
		ta.value=ss.join('\n');
	}
	function get_next(mcs,nn) {
		var ta = document.getElementById("ex7");
		var s = ta.value;
		var ss=s.split('\n');
		//s = ss.slice(s[0]==='#'?1:0).join('\n');
		var hd='',no='1';
		for(var i=0;i<ss.length;i++) {
			var t=ss[i].split('.');
			var n=t[0].substring(1);
			if(ss[i][0]===mcs && n===nn) {
				no=1+parseInt(t[1]);
			}
		}
		s = "<font color='blue'>" + mcs + nn + '.' + "</font>" + no;
		return(s);
	}
	function get_mcs() {
		var el=document.getElementsByName("MCS");  // MCS Radio
		var mcs='';
		for(var k=0;k<el.length;k++) {
			if(el[k].checked) {
				mcs="MCS"[k];
				break;
			}
		}
		return(mcs);
	}	
	function process_add(e) {
		var el=document.getElementById("CompanyName");  // Company Name
		var company = el ? el.value : '';
		var ev = '';
		var s = company.split(";");					// Check evaluator info
		if(s.length>1) {company=s[0];ev=s[1];}
		var el=document.getElementById("EvaluatorName");  // Evaluator Name
		if(el.value.length>0) {
			ev=el.value;
		}
		
		var el=document.getElementById("Industry"); // Industry
		var industry =  el ? el.value : '';
		var el=document.getElementById("CompSize"); // Company Size
		var compsize =  el ? el.value : '';
		var el=document.getElementById("CompanyCountry"); // Company Size
		var compcountry =  el ? el.value : '';
		
		mcs=get_mcs();	
		//if(debug) console.log("mcs : " + mcs);
		var mcs_no=document.getElementById(mcs).value;   // MCS number
		var mcs_name = document.getElementById("CategoryName").value; 
		if(mcs_name==='')  mcs_name = document.getElementById("CategoryName").placeholder;
/*		
		var el = document.getElementById("CategoryName");
		var mcs = el.value[0]; // el.options[el.selectedIndex].text[0]; //var val = e.value[0];
		var category = el.value[1]; // el.options[el.selectedIndex].text[0]; //var val = e.value[0];
		var categoryname = el.value.substring(el.value[3]!=='-' ? 3 : 5);
		var el2 = document.getElementById("CategoryHelpList");
		var option=null;
	    for (var i = 0; i < el2.children.length; i++) {
	      if (el2.children[i].value[0]===mcs && el2.children[i].value[1] === category) {
			  el2.children[i].value = el.value;
	          option = document.createElement("option");  // creating candidate for new option
	          option.value = mcs+(1+parseInt(category))+" - ...";
	      	  break;
	      }
	    }
		var isneeded = true;
	    for (var i = 0; i < el2.children.length; i++) { // checking if adding is needed
  	      if (el2.children[i].value[0]===mcs && parseInt(el2.children[i].value[1]) == 1+parseInt(category) ) {
			  isneeded=false; // it already exists
			  break;
		  }
		}
		if(option!=null && isneeded) {
        	el2.appendChild(option);
		}
*/				
		var el = document.getElementById("ProcessName");
		if(el) {
			var ta = document.getElementById("ex7");
			var s = ta.value;
			var ss=s.split('\n');
			s = ss.slice(s[0]==='#'?1:0).join('\n');
			var hd='',no='1';
			if(s[0]!='#') hd='#;'+company+';'+ev+';;;;;0;0.3;0.65;1;;'+industry+';'+compsize+';'+compcountry+'\n';
			var names={};
			for(var i=0;i<ss.length;i++) {
				var t=ss[i].split('.');
				var n=t[0].substring(1);
				if(ss[i][0]===mcs && n===mcs_no) {
					no=1+parseInt(t[1]);
				}
				var t2=ss[i].split(/[;\t]/);
				if(t2.length>2 && t2[2].length>0) {
					names[t2[2]]=1;  // collect already existing process names
				}
			}
			var s2=mcs + mcs_no + '.' + no + ';' + mcs_name + ';' +  el.value+'\n';
			
			if( !(el.value in names) || confirm(el.value + get_string('s_confirmadd')) ) {
				s += s2;
			} 
			ta.value = hd + s ; 
			el.value='';
		}
		update();
	}
	function update_table(s) {
		var el = document.getElementById("ProcessTab"); // span element
		if(el) {
			el.innerHTML=to_table(s);
		} 
	}
	function to_table(s,n) {
		s = mcs_sort(s);
		var colors=['#e6ffe6','azure','#ffffcc',''];
/*
		n = n || 20;
		var ss=s.split('\n');
		for(var i=0;i<ss.length;i++) {
			var ss1=ss[i].split(/[;\t]/);
			var s='';
			var c='white';
			if(ss1.length>1) c= ss1[0][0]=='M'?colors[0]:ss1[0][0]=='C'?colors[1]:ss1[0][0]=='S'?colors[2]:'white';
			for(var j=0;j<n;j++) {
				s+="<td style='min-width:20px;border: 1px solid gray;background-color:"+c+";'>"+ (ss1.length>j?ss1[j]:" ")+"</td>";
			}
			ss[i]="<tr>"+s+"</tr>";
		}
		ss="<table>"+ss.join('\n')+"</table>";
		return(ss);
*/		
		var [ids,processes,categories]=to_ids(s);
		var cat_ids=catids(ids);
		var s2='';
		for(var i=0;i<ids.length;i++) {
			var c=ids[i][0];
			var cc="background-color:"+colors[(c=='M')?0:(c=='C')?1:(c=='S')?2:3]+";";

			s2+="<tr style='text-align:center;border-bottom: 1pt solid lightgray;'>";
			s2+="<td style='text-align:right;padding:6px;'>"+(i+1)+"</td>";
			var cat_id=ids[i].split('.')[0];
			if(cat_ids[cat_id]>0) {
				s2+="<td style='border-left: 1pt solid lightgray;color:blue;padding:6px;" + cc + "'rowspan="+
					(cat_ids[cat_id])+">"+cat_id+"</td>";
				s2+="<td style='border-right: 1pt solid lightgray;color:blue;text-align:left;padding:6px;" +cc + "'rowspan="+    				(cat_ids[cat_id])+">"+ (categories[i]) +"</td>";
				cat_ids[cat_id]=0; // s+="<td></td>";
			}
			// s+="<td>"+categories[i]+"</td>";		
			s2+="<td style='color:blue;padding:6px;"+cc+"'>"+(ids[i])+"</td>";
			s2+="<td style='text-align:left;padding:6px;"+cc+"'>"+ (processes[i]) +"</td>";
			s2+="</tr>";
		}
		s2 = '<table style="border:1px solid lightgray;">'+s2+"</table>";
		return(s2);		
	}
var svg_M=`
	<span>
		<svg width="100" height="100" viewbox="0 0 100 100">
			<path d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#e6ffe6">
				<title>$TT</title> 
			</path>
			<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">$NN ($MM)</text>
		</svg>
	</span>
`;
var svg_C=`
	<span>
		<svg width=100 height=100 viewbox="0 0 100 100">
			<path transform="translate(50,50) rotate(-90) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="azure">
				<title>$TT</title> 
			</path>
			<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">$NN ($MM)</text>
		</svg>
	</span>
`;
var svg_S=`
	<span>
		<svg width=100 height=100 viewbox="0 0 100 100">
			<path transform="translate(50,50) rotate(-180) translate(-50,-50)" d="M 1 1 L 50 15 L 99 1 L 99 85 L 50 99 L 1 85 Z" stroke="blue" stroke-width="2" fill="#ffffcc">
				<title>$TT</title> 
			</path>
			<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="darkblue">$NN ($MM)</text>
		</svg>
	</span>
`;		
	function update_map(s) {
		var el = document.getElementById("ProcessMap"); // span element
		if(el) {
			el.innerHTML=to_map(s);
		} 
	}
	function catids(ids) {
		var cat_ids={};
		for(var i=0;i<ids.length;i++) {
			var cat_id=ids[i].split('.')[0];
			if(cat_id in cat_ids) {
				cat_ids[cat_id]+=1; 
			} else {
				cat_ids[cat_id]=1;
			}
		}
		return(cat_ids);
	}
	function to_ids(s) {
		var ids=[],processes=[],categories=[];
		ss=s.split("\n");
		for(i=0;i<ss.length;i++) {
			ss1=ss[i].split(/[;\t]/);
			if('MCS'.includes(ss1[0][0])) {
				ids.push(ss1[0]);
				processes.push(ss1.length>2?ss1[2]:'');
				categories.push(ss1.length>1?ss1[1]:'');
			} 
		}
		return([ids,processes,categories]);
	}
	function to_map(s) {
		s = mcs_sort(s);
		var [ids,processes,categories]=to_ids(s);
		var cat_ids=catids(ids);
		var ssm='',ssc='',sss='';
		for(id in cat_ids) {
			var cid=ids.indexOf(id+".1");
			if(id[0]=='M') ssm += svg_M.replaceAll("$NN",id).replaceAll("$MM",cat_ids[id]).replaceAll("$TT",categories[cid]); 
			if(id[0]=='C') ssc += svg_C.replaceAll("$NN",id).replaceAll("$MM",cat_ids[id]).replaceAll("$TT",categories[cid]); 
			if(id[0]=='S') sss += svg_S.replaceAll("$NN",id).replaceAll("$MM",cat_ids[id]).replaceAll("$TT",categories[cid]); 
		}
		var ss='<table width="100%" style="text-align:center">';
		ss +="<tr><td style='height:100px'>"+ssm+"</td></tr>"
			+"<tr><td style='height:100px'>"+ssc+"</td></tr>"
			+"<tr><td style='height:100px'>"+sss+"</td></tr>";
		ss +="</table>";
/*
		var n = 3;
		var colors=['#e6ffe6','azure','#ffffcc'];
		var ss=s.split('\n');
		for(var i=0;i<ss.length;i++) {
			var ss1=ss[i].split(/[;\t]/);
			var s='';
			var c='white';
			if(ss1.length>1) c= ss1[0][0]=='M'?colors[0]:ss1[0][0]=='C'?colors[1]:ss1[0][0]=='S'?colors[2]:'white';
			for(var j=0;j<n;j++) {
				s+="<td style='min-width:20px;border: 1px solid gray;background-color:"+c+";'>"+ (ss1.length>j?ss1[j]:" ")+"</td>";
			}
			ss[i]="<tr>"+s+"</tr>";
		}
				ss="<table>"+ss.join('\n')+"</table>";
*/
		return(ss);
	}
	function mcs_sort(s) {
		var ss=s.split('\n'); // sorting MCS
		if(ss.length<=2) {
			return(s);
		}
		var s1=ss.shift();  // first is header line
		var sn=ss.pop();    // last is empty line
		for(var i=ss.length-1;i>=0;i--) {
			if(ss[i].length>0 && ss[i][0] !='#') {
				if(ss[i][0]=='C') ss[i]='N'+ss[i].substring(1);
			} else {
				ss.splice(i,1);
			}
		}
		ss=ss.sort();
		for(var i=0;i<ss.length;i++) {
			if(ss[i][0]=='N') ss[i]='C'+ss[i].substring(1);
		}
		ss.unshift(s1);
		ss.push(sn);
		s=ss.join('\n');
		return(s);	
	}
	function on_submit() {
		process_add(null);
		process_del(null);
		var company = document.getElementById("CompanyName").value;
		if(company.includes(";")) {
			company=company.split(/[;\t]/)[0];
		}
		company = company!=='' ? company : "default";
		var evaluator = document.getElementById("EvaluatorName").value;
		if(evaluator.length>0) company += ';'+evaluator.replaceAll('&',';');
		var fname = to_filename(company);	
		var lang=document.getElementById("lang").value;
		fname += "&lang="+lang;
		fname = "uu"+btoa(encodeURIComponent("fx="+fname));
		document.getElementById("fx_name").value=fname;
		
		var s = document.getElementById('ex7').value;
		s = mcs_sort(s);
		document.getElementById('ex7').value=s;
		
		var s2 = '\nCompany-Evaluator Code: '+to_filename(company).slice(6,-4) + '\nEvaluator: '+evaluator + '\nLanguage: '+lang +'\n'; //ss.join('\n');
		if(window.location.protocol==="file:" || document.location.hostname.includes(".github.io")) {
			if(document.location.hostname.includes(".github.io")) { 
				document.getElementById('f7').method = "get";
				document.getElementById('fx_name').value = encodeURIComponent(s.replaceAll('\n','|'));
				document.getElementById('f7').action = "bpnaf5.html";
			} else {
				document.getElementById('f7').action = 
					'bpnaf5.html?ex='+encodeURIComponent(s.replaceAll('\n','|'))+"&lang="+lang;
			}
			s2=s+'\nDo you want to open generated questionnaire?\n'+s2+'\n';			
		} else {
			s2='\n'+get_string("s_submit")+'\n'+s2+'\nLink code:\n'+fname+'\n';
		}
		return(confirm(s2));
	}
	main();
	init_lists();
	try {bpnaf5=JSON.parse(localStorage.bpnaf5);} catch(err) {}
</script>



</html>


<!--
<div class="col-sm-">
	<div class="h-100 content">
		<h3>Example<br>4</h3>
		<p>Execute <a href="bpnaf5.html">framework</a> form without any input data what allows for continuing previous session.
		<p>Each session could be also stored in a local file by copying to clipboard with Ctrl-C keyboard shortcut and than pasting to favorite notepad like editor (a paste could be also performed inside Excel-like spredsheet). This allows for storing edited questionnaire data in a simple text file. The text files could be entered later into fromework by clicking on the title of the page, selecting file from local disk in the dialog box (what loads file content into textarea) and then clicking 'Open' button. When clicking 'Open' button the old content is copied to the clipboard (what allows for later manual undo with a help of the textarea).  
	</div>
</div>
-->


<!--
<p><h2>Internal file format playground:</h2></p>

<div class="col-sm-6">
	<div class="h-100 content">
		<h3>Example<br>4</h3>
		<p>This minimum working example contains a simple questionnaire definition file you can extend manually and than start filling. The definition file contains semicolon (or tab) separated lines. The first line must start with '#' character and contains company name filed and the evaluator name. Next lines contains process N-1 sublevel code (should start from M for managment processes, C for core processes or S for support processes) and process name in the third field of each line.   
		<form id='f1' action='' method="post">
			<textarea id='ex' wrap="off" rows=10 style="width:100%;font-family:Consolas,monospace">#;Fx;Ev
M1.1;;Proces1
C1.1;;Proces2</textarea>
			<input type="submit" value="Start" class="btn btn-primary" style="float:right" onclick="document.getElementById('f1').action='bpnaf5.html?ex='+encodeURIComponent(document.getElementById('ex').value.replaceAll('\n','|'));">
		</form>
		</p>
	</div>
</div>

		 
<div class="col-sm-6">
	<div class="h-100 content">
		<h3>Example<br>6</h3>
		<p>The following form enables preparing an example that will be visible here for all users. After submiting it will be available at the server location with a ending <a href="bpnaf5.html?ex=example6">bpnaf5.html?ex=example6</a>. Keep in mind that as this example maybe changed by any user it may contain erroneous data. 
		<form id='f2' action='bpnaf.php' method="post">
			<input type="hidden" name="ex_name" value="example6">
			<textarea id='ex6' name="ex" wrap="off" rows=11 style="width:100%;font-family:Consolas,monospace">#;MyCompany;Me
M1.1;;Process 1
M1.2;;Process 2
M1.3;;Process 3
C1.1;;Process 4
C1.3;;Process 5
S1.1;;Process 6</textarea>
			<input type="submit" value="Submit" class="btn btn-primary" style="float:right">     
		</form>
		</p>
	</div>
</div>

-->
